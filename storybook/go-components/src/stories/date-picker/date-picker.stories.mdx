import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import DatePicker from "../../components/date-picker";

<Meta title="DatePicker" component={DatePicker} />

export const Template = (args) => {
    const parsedInputDate = new Date(args.inputDate);
    const parsedInputDateRange = {
        startDate: new Date(args.inputRangeDateStart),
        endDate: new Date(args.inputRangeDateEnd),
    };
    return (
        <DatePicker
            {...args}
            inputDate={
                args.type === "simple" ? parsedInputDate : parsedInputDateRange
            }
        />
    );
};

# DatePicker

El `DatePicker` es un componente calendario de selección de día simple o de rango como se muestra a continuación.

<Story
    name="DatePicker"
    argTypes={{
        type: {
            control: {
                type: "select",
                options: ["simple", "tabs"],
            },
        },
        locale: {
            control: {
                type: "select",
                options: ["es-ES", "ca-ES", "en-US", "en-GB"],
            },
        },
        startWeekDay: {
            control: {
                type: "select",
                options: [0, 1, 2, 3, 4, 5, 6],
            },
        },
        inputSize: {
            control: {
                type: "select",
                options: ["s", "m", "l"],
            },
        },
        inputSize: {
            control: {
                type: "text",
            },
        },
        inputDate: {
            control: {
                type: "date",
            },
        },
        inputRangeDateStart: {
            control: {
                type: "date",
            },
        },
        inputRangeDateEnd: {
            control: {
                type: "date",
            },
        },
        maxDate: {
            control: {
                type: "date",
            },
        },
        minDate: {
            control: {
                type: "date",
            },
        },
        onSelectDate: { action: "Date: " },
        dateFormat: {
            control: {
                type: "select",
                options: [
                    "dd/mm/yyyy",
                    "dd-mm-yyyy",
                    "dd. mm. yyyy",
                    "yyyy. MM. dd",
                    "DD. MM. yyyy",
                ],
            },
        },
    }}
    args={{
        type: "simple",
        locale: "en-GB",
        startWeekDay: 0,
        inputSize: "m",
        inputLabel: "Select dates",
        inputDate: new Date("01/20/2021"),
        inputRangeDateStart: new Date("01/15/2021"),
        inputRangeDateEnd: new Date("01/18/2021"),
        maxDate: new Date("01/25/2021"),
        minDate: new Date("01/08/2018"),
        disabled: false,
        alternative: false,
        dateFormat: "dd/mm/yyyy",
    }}
>
    {Template.bind({})}
</Story>

Los diferentes `props` que puede recibir son los siguietnes.

## Listado de Props

| **Prop**            | **Tipo**        | **Valor por defecto**      | **Descripción**                                                                                                                                                                                                                                               |
| :------------------ | :-------------- | :------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `type`              | `simple` `tabs` | `simple`                   | Determina el tipo de calendario que se mostrará                                                                                                                                                                                                               |
| `locale`            | `string`        | `en-GB`                    | Determina el idioma **y el primer día de la semana** del calendario                                                                                                                                                                                           |
| `startWeekDay`      | `number`        | `0`                        | Determina el primer día de la semana                                                                                                                                                                                                                          |
| `inputSize`         | `l` `m` `s`     | `m`                        | Determina el tamaño del `input` del calendario                                                                                                                                                                                                                |
| `inputLabel`        | `string`        | `undefined`                | Determina el label que se mostrará en el `input` en caso de haber uno                                                                                                                                                                                         |
| `onSelectDate`      | `Function`      | `(date: Date - Object) {}` | La función que se ejecutará cuando el usuario seleccione un día, recibe una fecha **de tipo Date** en el calendario de tipo `simple` y un objeto con los atributos `startDate` y `endDate` en el calendario de tipo `tabs` ambos con valores **de tipo Date** |
| `inputDate`         | `Date - Object` | `undefined`                | Permite modificar el día del calendario de manera programada                                                                                                                                                                                                  |
| `maxDate`           | `Date`          | `undefined`                | Determina el día máximo seleccionable por el usuario                                                                                                                                                                                                          |
| `minDate`           | `Date`          | `undefined`                | Determina el día mínimo seleccionable por el usuario                                                                                                                                                                                                          |
| `disabled`          | `boolean`       | `false`                    | Determina si el Calendario deberá estar bloqueado                                                                                                                                                                                                             |
| `alternative`       | `boolean`       | `false`                    | Determina si el Calendario deberá mostrarse con los estilos **alternative**                                                                                                                                                                                   |
| `calendarInputIcon` | `any`           | `React.ReactNode`          | Determina el icono que debe mostrarse en el `input` del calendario                                                                                                                                                                                            |
